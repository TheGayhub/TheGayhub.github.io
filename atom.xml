<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.akwing.cn</id>
    <title>Guapi</title>
    <updated>2019-07-04T11:49:26.507Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.akwing.cn"/>
    <link rel="self" href="https://www.akwing.cn/atom.xml"/>
    <subtitle>æƒŸä¸–ä¹‹ç¹åå¦‚æ•…,æ–Ÿé…Œå²æœˆå¦‚åˆ</subtitle>
    <logo>https://www.akwing.cn/images/avatar.png</logo>
    <icon>https://www.akwing.cn/favicon.ico</icon>
    <rights>All rights reserved 2019, Guapi</rights>
    <entry>
        <title type="html"><![CDATA[æš‘å‡åˆ·é¢˜è®°å½•]]></title>
        <id>https://www.akwing.cn/post/shu-jia-shua-ti</id>
        <link href="https://www.akwing.cn/post/shu-jia-shua-ti">
        </link>
        <updated>2019-09-01T11:36:23.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="ä¸»è¦è®°å½•ä¸€ä¸‹æ¯å¤©åˆ·çš„é¢˜ç›®">ä¸»è¦è®°å½•ä¸€ä¸‹æ¯å¤©åˆ·çš„é¢˜ç›®</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="ä¸»è¦è®°å½•ä¸€ä¸‹æ¯å¤©åˆ·çš„é¢˜ç›®">ä¸»è¦è®°å½•ä¸€ä¸‹æ¯å¤©åˆ·çš„é¢˜ç›®</h1>
<!-- more -->
<h2 id="624">6.24</h2>
<blockquote>
<p>æ´›è°·P3674 <a href="https://www.luogu.org/problemnew/show/P3674">P3674 å°æ¸…æ–°äººæ¸£çš„æœ¬æ„¿</a><br>
1æ“ä½œåŒ–ç®€ä»¥åbitsetç»Ÿè®¡ç­”æ¡ˆå·¦ç§»xå¯ä»¥çœ‹æˆå½“å‰æ•°+x , 2æ“ä½œæ³¨æ„è¦å¦åŠ ä¸€ä¸ªbitsetï¼Œè¿™æ˜¯å› ä¸ºå¯èƒ½æœ‰è´Ÿæ•°å­˜ä¸äº†ï¼Œ3æ“ä½œç›´æ¥æšä¸¾å› å­ã€‚</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å€å¢åˆæ¢]]></title>
        <id>https://www.akwing.cn/post/bei-zeng-chu-tan</id>
        <link href="https://www.akwing.cn/post/bei-zeng-chu-tan">
        </link>
        <updated>2019-07-03T15:27:38.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="å€å¢dp">å€å¢+DP</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="å€å¢dp">å€å¢+DP</h1>
<!-- more -->
<p>æœ€è¿‘åšçš„3é¢˜å€å¢+dpé¢˜ï¼Œå¤§è‡´æ€æƒ³éƒ½æ˜¯é¢„å¤„ç†å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mi>j</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">dp[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>,å³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>ä½ç½®è·³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">2^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>æ­¥èƒ½åˆ°è¾¾çš„æœ€è¿œè·ç¦»ï¼Œå’Œæ±‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">LCA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span></span></span></span>å·®ä¸å¤šã€‚</p>
<blockquote>
<p>Codeforce 1175 E<a href="https://codeforces.com/contest/1175/problem/E">Minimal Segment Cover</a></p>
</blockquote>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mi>j</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">dp[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>ä½ç½®å¾€å³é€‰æ‹©<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">2^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>ä¸ªåŒºé—´èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®ï¼Œæ ¹æ®è¾“å…¥å¤„ç†å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">dp[i][0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo>(</mo><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo><mo separator="true">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">dp[i][0] = max(dp[i][0], max(i,dp[i - 1][0]))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>,ç„¶åé¢„å¤„ç†å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">dp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span>æ•°ç»„ã€‚è¯¢é—®çš„æ—¶å€™è´ªå¿ƒå³å¯ã€‚</p>
<pre><code>#include&lt;bits/stdc++.h&gt;
using namespace std;
const int mx = 20;
const int N = 5e5 + 10;
int dp[N][mx];
int n, m,mxdis;
int main()
{
	scanf(&quot;%d%d&quot;, &amp;n, &amp;m);
	for (int i = 0; i &lt; n; i++)
	{
		int l, r;
		scanf(&quot;%d%d&quot;, &amp;l, &amp;r);
		dp[l][0] = max(dp[l][0], r);
		mxdis = max(mxdis, r);
	}
	for (int i = 1; i &lt;= mxdis; i++)
	{
		dp[i][0] = max(dp[i][0], max(i,dp[i - 1][0]));
	}
	for (int j = 1; j &lt; mx; j++)
	{
		for (int i = 0; i &lt;= mxdis; i++)
		{
			dp[i][j] = dp[dp[i][j - 1]][j - 1];
		}
	}
	while (m--)
	{
		int l, r;
		scanf(&quot;%d%d&quot;, &amp;l, &amp;r);
		int ans = 0;
		for (int j = mx - 1; j &gt;= 0; j--)
		{
			if (dp[l][j] &lt; r){
				ans += (1 &lt;&lt; j);
				l = dp[l][j];
			}
		}
		l = dp[l][0];
		if (dp[l][0] &lt; r){
			puts(&quot;-1&quot;);
			continue;
		}
		printf(&quot;%d\n&quot;, ans + 1);
	}
	return 0;
}
</code></pre>
<blockquote>
<p>é¢˜ç›®é“¾æ¥ï¼š <a href="https://ac.nowcoder.com/acm/problem/15429">ç‰›å®¢ åŒºé—´çš„è¿ç»­æ®µ</a></p>
</blockquote>
<p>ç°åˆ©ç”¨å‰ç¼€å’ŒäºŒåˆ†å¾—åˆ°dp[i][0]ï¼Œå³iå¾€å³è·³ä¸€æ­¥èƒ½åˆ°è¾¾çš„æœ€è¿œçš„ä½ç½®rï¼Œæˆ‘ä»¬ä½¿ç”¨upper_bound,æ³¨æ„è¿™ä¸ªä½ç½®ræ˜¯ä¸åŒ…å«åœ¨æˆ‘ä»¬ä¸€æ­¥æ‰€èƒ½åˆ°è¾¾çš„åŒºé—´å†…çš„ï¼Œå³æˆ‘ä»¬ä¸€æ­¥åªèƒ½å¾—åˆ°åŒºé—´<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">[</mo><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo><mo separator="true">,</mo><mi>r</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left [ dp[i][0],r \right )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> . è¿™ä¸ªrä»£è¡¨ä¸‹ä¸€æ­¥çš„èµ·ç‚¹ï¼Œä»”ç»†æƒ³æƒ³å¾ˆå·§å¦™ã€‚</p>
<p>æ³¨æ„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo>]</mo><mo>[</mo><mi>i</mi><mo>]</mo><mo>(</mo><mi>i</mi><mo>âˆˆ</mo><mo>[</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo>]</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">dp[n+1][i](i \in [1  ,n])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span>è¦è®¾ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.å› ä¸ºå¤„ç†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mn>0</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">dp[i][0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span>çš„æ—¶å€™å¯èƒ½è¿”å›<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p>
<pre><code>#include&lt;bits/stdc++.h&gt;
using namespace std;
typedef long long ll;
const int N = 1e6 + 10;
int n, m, k;
ll a[N];
int dp[N][25];
int main()
{
    scanf(&quot;%d%d%d&quot;, &amp;n, &amp;m, &amp;k);
    for (int i = 1; i &lt;= n; i++)
    {
        cin &gt;&gt; a[i];
    }
    for (int i = 1; i &lt;= n; i++)
        a[i] += a[i - 1];
    for (int i = 0; i &lt;= 20; i++)
        dp[n+1][i] = n + 1;
    for (int i = 1; i &lt;= n; i++)
    {
        dp[i][0] = upper_bound(a + 1, a + n + 1, a[i - 1] + k) - a;
        //cout &lt;&lt; dp[i][0] &lt;&lt; endl;
    }
    for (int j = 1; j &lt;= 20; j++)
        for (int i = 1; i &lt;= n; i++)
            dp[i][j] = dp[dp[i][j - 1]][j - 1];
    while (m--)
    {
        int l, r;
        scanf(&quot;%d%d&quot;, &amp;l, &amp;r);
        int res = 0;
        for (int j = 20; j &gt;= 0; j--)
            if (dp[l][j] &lt;= r) res += (1 &lt;&lt; j), l = dp[l][j];
        if (dp[l][0] &lt;= r) puts(&quot;Chtholly&quot;);
        else printf(&quot;%d\n&quot;, res + 1);
    }
    return 0;
}
</code></pre>
<blockquote>
<p>é¢˜ç›®é“¾æ¥ï¼š <a href="https://codeforces.com/contest/932/problem/D">Codeforce 932 D</a></p>
</blockquote>
<p>æ ‘ä¸Šå€å¢</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>a</mi><mi>t</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mi>j</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">fat[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>è¡¨ç¤ºièŠ‚ç‚¹å¾€ä¸Šèµ°çš„ç¬¬2<sup>jä¸ªçˆ¶äº²ï¼Œæ³¨æ„è¿™é‡Œçš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯æ™®é€šçš„çˆ¶èŠ‚ç‚¹ï¼Œè€Œæ˜¯æ»¡è¶³æ¡ä»¶çš„çˆ¶èŠ‚ï¼Œå³çˆ¶èŠ‚ç‚¹çš„æƒå€¼æ¯”å­èŠ‚ç‚¹å¤§ã€‚sum[i][j]è¡¨ç¤ºiå¾€ä¸Šèµ°2</sup>jä¸ªèŠ‚ç‚¹å¾—åˆ°çš„æƒå€¼å’Œï¼Œsum[1][i](i \in [1  ,n]) è¦è®¾ä¸ºinfï¼Œå› ä¸º1èŠ‚ç‚¹å°±ä¸èƒ½å¾€ä¸Šèµ°äº†ï¼Œè®¾ä¸º0çš„è¯1èŠ‚ç‚¹å¯ä»¥ç»§ç»­å¾€ä¸Šèµ°ï¼Œä½¿å¾—ç­”æ¡ˆå¢åŠ ã€‚</p>
<p>æ²¡åŠ ä¸€ä¸ªç‚¹å¤„ç†ä¸€æ¬¡ï¼Œè¯¢é—®çš„ç›´æ¥sum[u][j]æ˜¯å¦&lt;X,æ»¡è¶³çš„è¯</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CH#56C å¼‚è±¡çŸ³]]></title>
        <id>https://www.akwing.cn/post/ch56c-yi-xiang-shi</id>
        <link href="https://www.akwing.cn/post/ch56c-yi-xiang-shi">
        </link>
        <updated>2019-07-03T07:33:35.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="lcadfsåº">LCA+DFSåº</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="lcadfsåº">LCA+DFSåº</h1>
<!-- more -->
<blockquote>
<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.acwing.com/problem/content/description/357/">CH#56C å¼‚è±¡çŸ³</a></p>
</blockquote>
<p>é¢˜æ„ï¼šé€‰æ‹©ä¸€æ¡æœ€çŸ­è·¯å°†æ ‘ä¸Šæ ‡è®°è¿‡çš„ç‚¹è¿èµ·æ¥,å¹¶ä¸”ç‚¹çš„ä¸ªæ•°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æŒ‰ç…§<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºå°†è¿™äº›ç‚¹æ’åºï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºå°çš„åœ¨å‰é¢ï¼Œæ„æˆä¸€ä¸ªç¯ã€‚æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸ªç¯ä¸­ç›¸é‚»ä¸¤ä¸ªç‚¹å¾—è·ç¦»ä¹‹å’Œå°±æ˜¯ç­”æ¡ˆçš„äºŒå€ã€‚æˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œæ—¢ç„¶æŒ‰ç…§<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºå°†è¿™äº›ç‚¹æ’åˆ—èµ·æ¥(æ„æˆç¯)ï¼ŒæŒ‰ç…§<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºå°†è¿™å‡ ä¸ªç‚¹èµ°å®Œå¾—åˆ°çš„è·¯ç¨‹æ˜¯ç­”æ¡ˆçš„ä¸¤å€ã€‚å› ä¸ºæ¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹å¿…ç„¶é€’å½’ä¸€æ¬¡ï¼Œç„¶åå›æº¯ä¸€æ¬¡ï¼Œå³æ¯ä¸ªè¾¹ç»è¿‡ä¸¤æ¬¡ã€‚</p>
<p>åŸºäºè¿™æ ·çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚è§£æœ¬é¢˜ï¼Œä½†æ˜¯å¦‚æœæš´åŠ›å»åšçš„è¯ï¼Œå•æ¬¡æ“ä½œçš„å¤æ‚åº¦æœ€é«˜ä¼šå˜æˆ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(nlog_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ,ç”±äºç‚¹æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œä¸”æ¯æ¬¡åªå˜ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">set</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span></span></span></span>æ¥ç»´æŠ¤è¿™äº›ç‚¹ï¼Œå°†å®ƒä»¬çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºæ”¾å…¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">set</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span></span></span></span>ä¸­ã€‚è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">dist</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span>ä¸ºä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»(åˆ©ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">LCA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span></span></span></span>å¾ˆå®¹æ˜“æ±‚å¾—)ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span></span></span></span>ä¸ºç­”æ¡ˆçš„äºŒå€ï¼Œ<br>
æ¯æ¬¡æ’å…¥ä¸€ä¸ªç‚¹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>æ—¶.æ‰¾åˆ°è¿™ä¸ªç‚¹çš„å‰é©±<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">pre</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span></span></span></span>å’Œåç»§<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">last</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span>.(æ³¨æ„æ˜¯ç¯)</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi><mo>âˆ’</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo separator="true">,</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">ans-=dist(pre,last)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>ï¼Œå³å°†åŸæ¥çš„æ–­å¼€ã€‚</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi><mo>+</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo separator="true">,</mo><mi>x</mi><mo>)</mo><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>(</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo separator="true">,</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">ans+=dist(pre,x)+dist(last,pre)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">+</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span>,å³åŠ å…¥æ–°è¾¹ã€‚</li>
<li>å°†xèŠ‚ç‚¹çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºæ’å…¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>e</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">set</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span></span></span></span></li>
</ul>
<p>è¿™æ ·å•è¯æ“ä½œä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(log_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œåˆ é™¤ä¹Ÿæ˜¯åŒç†</p>
<pre><code>    

#include &lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#include&lt;string&gt;
#include&lt;set&gt;
#include&lt;cmath&gt;
using namespace std;
const int N = 8e5 + 10;
const int up = 20;
#define lowbit(x) (x&amp;(-x))
typedef long long ll;
struct Edge{
    int to, w, next;
}edge[N];
int head[N], tot, in[N], fat[N][22], dep[N],  top, vs[N];
int n, m;
set&lt;int&gt; s;
ll dis[N];
void addedge(int from, int to, int w)
{
    edge[++tot].to = to;
    edge[tot].w = w;
    edge[tot].next = head[from];
    head[from] = tot;
}
void dfs(int u)
{
    in[u] = ++top;
    vs[top] = u;
    for (int i = head[u]; i != -1; i = edge[i].next)
    {
        int v = edge[i].to, w = edge[i].w;
        if (dep[v]) continue;
        dep[v] = dep[u] + 1;
        dis[v] = dis[u] + w;
        fat[v][0] = u;
        dfs(v);
    }
}
void dp()
{
    for (int j = 1; j &lt;= up; j++)
    {
        for (int i = 1; i &lt;= n; i++)
        {
            fat[i][j] = fat[fat[i][j - 1]][j - 1];
        }
    }
}
int lca(int u, int v)
{
    if (dep[u] &lt; dep[v]) swap(u, v);
    for (int j = up; j &gt;= 0; j--)
    {
        if ((dep[u] - dep[v]) &gt;&gt; j &amp; 1) u = fat[u][j];
    }
    if (u == v) return v;
    for (int j = up; j &gt;= 0; j--)
    {
        if (fat[u][j] != fat[v][j]){
            u = fat[u][j];
            v = fat[v][j];
        }
    }
    return fat[u][0];
}

void init()
{
    top = tot = 0;
    for (int i = 0; i &lt;= n; i++)
    {
        head[i] = -1;
        fat[i][0] = i;
        dep[i] = 0;
        dis[i] = 0;
    }
}
ll dist(int u, int v)
{
    return dis[u] + dis[v] - 2 * dis[lca(u, v)];
}
int main()
{
    scanf(&quot;%d&quot;, &amp;n);
    memset(head, -1, sizeof(head));
    //init();
    for (int i = 1; i &lt; n; i++)
    {
        int u, v, w;
        scanf(&quot;%d%d%d&quot;, &amp;u, &amp;v, &amp;w);
        addedge(u, v, w);
        addedge(v, u, w);
    }
    dep[1] = 1;
    dfs(1);
    dp();
    scanf(&quot;%d&quot;, &amp;m);
    ll ans = 0;
    while (m--)
    {
        char op[5];
        int x;
        scanf(&quot;%s&quot;, op);
        if (op[0] == '?')
        {
            printf(&quot;%lld\n&quot;, ans / 2);
        }
        else if (op[0] == '+')
        {
            scanf(&quot;%d&quot;, &amp;x);
            if (s.empty())
            {
                s.insert(in[x]);
                continue;
            }
            else
            {
                auto it = s.lower_bound(in[x]);
                if (it == s.end()) it = s.begin();
                auto itt = it == s.begin() ? prev(s.end()) : prev(it);
                ans += dist(vs[*itt], x) + dist(x, vs[*it]) - dist(vs[*itt], vs[*it]);
                s.insert(in[x]);
            }
        }
        else
        {
            scanf(&quot;%d&quot;, &amp;x);
            if (!s.count(in[x])) continue;
            auto it = s.lower_bound(in[x]);
            auto pre = it == s.begin() ? prev(s.end()) : prev(it);
            auto lst = next(it) == s.end() ? s.begin() : next(it);
            ans = ans - dist(vs[*pre], x) - dist(vs[*lst], x) + dist(vs[*pre], vs[*lst]);
            s.erase(it);
        }
    }
    return 0;
}


</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[HDU 5274 Dylans loves tree]]></title>
        <id>https://www.akwing.cn/post/hdu-5274-dylans-loves-tree</id>
        <link href="https://www.akwing.cn/post/hdu-5274-dylans-loves-tree">
        </link>
        <updated>2019-07-02T15:30:40.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="lcaçº¿æ®µæ ‘">LCA+çº¿æ®µæ ‘</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="lcaçº¿æ®µæ ‘">LCA+çº¿æ®µæ ‘</h1>
<!-- more -->
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[POJ 2763 Housewife Wind]]></title>
        <id>https://www.akwing.cn/post/poj-2763-housewife-wind</id>
        <link href="https://www.akwing.cn/post/poj-2763-housewife-wind">
        </link>
        <updated>2019-07-01T12:49:01.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="lcaæ ‘çŠ¶æ•°ç»„">LCA+æ ‘çŠ¶æ•°ç»„</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="lcaæ ‘çŠ¶æ•°ç»„">LCA+æ ‘çŠ¶æ•°ç»„</h1>
<!-- more -->
<h3 id="ä¸€ä¸ªlcaæ¿å­æœ‰ä¸ªåœ°æ–¹æ‰“é”™äº†ç„¶åwaäº†ä¸€å¤©æ£€æŸ¥ä»£ç å°±æ˜¯æ²¡å»ä»”ç»†æ£€æŸ¥æ¿å­">ä¸€ä¸ªLCAæ¿å­æœ‰ä¸ªåœ°æ–¹æ‰“é”™äº†ï¼Œç„¶åWAäº†ä¸€å¤©ğŸ˜­ğŸ˜­ğŸ˜­ï¼Œæ£€æŸ¥ä»£ç å°±æ˜¯æ²¡å»ä»”ç»†æ£€æŸ¥æ¿å­ã€‚</h3>
<p><strong>&gt;  é¢˜ç›®é“¾æ¥ ï¼š<a href="http://poj.org/problem?id=2763">POJ 2763 Housewife Wind</a></strong></p>
<h3 id="é¢˜æ„ç»™ä¸€æ£µæ ‘-è¯¢é—®æ“ä½œå½“å‰èŠ‚ç‚¹sèµ°åˆ°èŠ‚ç‚¹uæ‰€éœ€æœ€çŸ­è·ç¦»-ä¿®æ”¹æ“ä½œæ”¹å˜è¾“å…¥çš„ç¬¬iæ¡è¾¹çš„æƒå€¼">é¢˜æ„ï¼šç»™ä¸€æ£µæ ‘ã€‚è¯¢é—®æ“ä½œï¼šå½“å‰èŠ‚ç‚¹sèµ°åˆ°èŠ‚ç‚¹uæ‰€éœ€æœ€çŸ­è·ç¦»ã€‚ä¿®æ”¹æ“ä½œï¼šæ”¹å˜è¾“å…¥çš„ç¬¬iæ¡è¾¹çš„æƒå€¼</h3>
<p>å¦‚æœä¸åŠ ä¿®æ”¹ï¼Œæ‹¿è¿™å°±æ˜¯ä¸€ä¸ªè£¸LCAçš„é¢˜ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">dis[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>è¡¨ç¤ºæ ¹èŠ‚ç‚¹åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>èŠ‚ç‚¹çš„è·ç¦»ï¼Œè¯¢é—®<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span></span></span></span> çš„è·ç¦»å°±æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>a</mi><mo>]</mo><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>b</mi><mo>]</mo><mo>âˆ’</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>l</mi><mi>c</mi><mi>a</mi><mo>(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>)</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">dis[a]+dis[b]-2 * dis[lca(a,b)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span> ,å¢åŠ ä¿®æ”¹æ€ä¹ˆè€ƒè™‘å‘¢ï¼Ÿ</p>
<p>å¯ä»¥å‘ç°æ”¹å˜<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>âˆ’</mo><mo>&gt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a-&gt;b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span> (å‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>çš„æ·±åº¦å¤§äº <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>)çš„æƒå€¼ä¼šå½±å“æ ¹èŠ‚ç‚¹åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>ä»¥åŠ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>çš„æ•´ä¸ªå­æ ‘çš„è·ç¦»ï¼Œå³æ”¹å˜<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>b</mi><mo>]</mo><mi mathvariant="normal">å’Œ</mi><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>b</mi><mtext>çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹</mtext><mo>]</mo></mrow><annotation encoding="application/x-tex">dis[b]å’Œdis[b{\text{çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹}} ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mclose">]</span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹</span></span></span><span class="mclose">]</span></span></span></span> ,æ”¹å˜å­æ ‘å¯ä»¥è½¬åŒ–ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">DFS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>åºä¸Šçš„åŒºé—´ä¿®æ”¹ã€‚æˆ‘ä»¬ä¸å¯èƒ½æš´åŠ›çš„å¯¹åŒºé—´ç»è¡Œä¿®æ”¹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ ‘çŠ¶æ•°ç»„å®ŒæˆåŒºé—´ä¿®æ”¹ï¼Œæ ‘çŠ¶æ•°ç»„ç»´æŠ¤ä¸€ä¸ªå·®åˆ†æ•°ç»„è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">dis</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span></span></span></span>æ•°ç»„çš„å˜åŒ–ï¼Œè¿™ä¸ªå·®åˆ†æ•°ç»„å‰ <strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span></strong> é¡¹æ±‚å’Œä»£è¡¨å†å²ä¸Šçš„ä¿®æ”¹å¯¹ç¬¬ <strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span></strong> ä¸ªä½ç½®å¸¦æ¥çš„å½±å“(å³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">dis</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span></span></span></span>æ•°ç»„çš„å˜åŒ–)ã€‚</p>
<p>æœ€åç­”æ¡ˆå°±æ˜¯ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>u</mi><mo>]</mo><mo>+</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo>(</mo><mi>u</mi><mo>)</mo><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>s</mi><mo>]</mo><mo>+</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo>(</mo><mi>s</mi><mo>)</mo><mo>âˆ’</mo><mn>2</mn><mo>âˆ—</mo><mo>(</mo><mi>d</mi><mi>i</mi><mi>s</mi><mo>[</mo><mi>l</mi><mi>c</mi><mi>a</mi><mo>(</mo><mi>u</mi><mo separator="true">,</mo><mi>s</mi><mo>)</mo><mo>]</mo><mo>+</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo>(</mo><mi>l</mi><mi>c</mi><mi>a</mi><mo>(</mo><mi>u</mi><mo separator="true">,</mo><mi>s</mi><mo>)</mo><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">dis[u]+sum(u)+dis[s]+sum(s)-2 * (dis[lca(u,s)]+sum(lca(u,s)))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
<pre><code>#include &lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#include&lt;string&gt;
#include&lt;bitset&gt;
#include&lt;cmath&gt;
using namespace std;
const int N = 1e6 + 100;
const int up = 20;
#define lowbit(x) (x&amp;(-x))
typedef long long ll;
struct Edge{
	int to, w, next;
}edge[N];
int head[N], tot,in[N],out[N],fat[N][22],dep[N],dis[N],top;
int n, q, s,c[N],we[N];
void addedge(int from, int to, int w)
{
	edge[++tot].to = to;
	edge[tot].w = w;
	edge[tot].next = head[from];
	head[from] = tot;
}
void dfs(int u)
{
	in[u] = ++top;
	for (int i = head[u]; i != -1; i = edge[i].next)
	{
		int v = edge[i].to, w = edge[i].w;
		if (dep[v]) continue;
		dep[v] = dep[u] + 1;
		dis[v] = dis[u] + w;
		fat[v][0] = u;
		dfs(v);
	}
	out[u] = ++top;
}
void dp()
{
	for (int j = 1; j &lt;= up; j++)
	{
		for (int i = 1; i &lt;= n; i++)
		{
			fat[i][j] = fat[fat[i][j - 1]][j - 1];
		}
	}
}
int lca(int u, int v)
{
	if (dep[u] &lt; dep[v]) swap(u, v);
	for (int j = up; j &gt;= 0; j--)
	{
		if ((dep[u] - dep[v]) &gt;&gt; j &amp; 1) u = fat[u][j];
	}
	if (u == v) return v;
	for (int j = up; j &gt;= 0; j--)
	{
		if (fat[u][j] != fat[v][j]){
			u = fat[u][j];
			v = fat[v][j];
		}
	}
	return fat[u][0];
}
void add(int x,int val)
{
	while (x &lt;= top)
	{
		c[x] += val;
		x += lowbit(x);
	}
}
int ask(int x)
{
	int res = 0;
	while (x)
	{
		res += c[x];
		x -= lowbit(x);
	}
	return res;
}
int main()
{
	memset(head, -1, sizeof(head));
	scanf(&quot;%d%d%d&quot;, &amp;n, &amp;q, &amp;s);
	for (int i = 1; i &lt; n ; i++)
	{
		int u, v;
		scanf(&quot;%d%d%d&quot;, &amp;u, &amp;v, &amp;we[i]);
		addedge(u, v, we[i]);
		addedge(v, u, we[i]);
	}
	dep[1] = 1;
	fat[1][0] = 1;
	dfs(1);
	dp();
	for (int i = 0; i &lt; q; i++)
	{
		int op, x, y;
		scanf(&quot;%d&quot;, &amp;op);
		if (op == 0){
			scanf(&quot;%d&quot;, &amp;x);
			int Lca = lca(x, s);
			printf(&quot;%d\n&quot;, dis[s] + dis[x] + ask(in[x]) + ask(in[s]) - 2 * (dis[Lca] + ask(in[Lca])));
			s = x;
		} 
		else
		{
			scanf(&quot;%d%d&quot;, &amp;x, &amp;y);
			int u = edge[2*(x-1)+1].to, v = edge[x &lt;&lt; 1].to;
			if (dep[u] &lt; dep[v]) swap(u, v);
			add(in[u], y - we[x]);
			add(out[u] + 1, we[x] - y);
			we[x] = y;
		}
	}
    return 0;
}



</code></pre>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸é€‚ç”¨disæ•°ç»„ã€‚</p>
<pre><code>for (int i = 1; i &lt; n; i++)
{
    scanf(&quot;%d%d%d&quot;, &amp;a[i], &amp;b[i], &amp;we[i]);
    addedge(a[i], b[i], we[i]);
    addedge(b[i], a[i], we[i]);
}
for (int i = 1; i &lt; n; i++)
{
    if (dep[a[i]] &lt; dep[b[i]]) swap(a[i], b[i]);
    add(in[a[i]], we[i]);//ç›´æ¥æ’å…¥,è¿™ä¹Ÿå¯ä»¥ç†è§£ä¸ºå’Œä¿®æ”¹æ“ä½œä¸€æ ·ï¼Œä¸æ–­ä¿®æ”¹è¾¹æƒçš„è¿‡ç¨‹ã€‚
    add(out[a[i]] + 1, -we[i]);
}

printf(&quot;%d\n&quot;, ask(in[x]) + ask(in[s]) - 2 * (ask(in[Lca])));

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[POJ 3728 The merchant]]></title>
        <id>https://www.akwing.cn/post/poj-3728-the-merchant</id>
        <link href="https://www.akwing.cn/post/poj-3728-the-merchant">
        </link>
        <updated>2019-06-30T10:31:53.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="lcaå€å¢dp">LCA+å€å¢+DP</h2>
]]></summary>
        <content type="html"><![CDATA[<h2 id="lcaå€å¢dp">LCA+å€å¢+DP</h2>
<!-- more -->
<p>é¢˜ç›®æ„æ€å¾ˆæ˜ç¡®ï¼Œä»u-&gt;v</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[HDU 3830 Checkers]]></title>
        <id>https://www.akwing.cn/post/hdu-3830-checkers</id>
        <link href="https://www.akwing.cn/post/hdu-3830-checkers">
        </link>
        <updated>2019-06-30T09:32:06.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="lcaäºŒåˆ†">LCA+äºŒåˆ†</h2>
]]></summary>
        <content type="html"><![CDATA[<h2 id="lcaäºŒåˆ†">LCA+äºŒåˆ†</h2>
<!-- more -->
<blockquote>
<p>é¢˜ç›®é“¾æ¥ï¼š <a href="http://acm.hdu.edu.cn/showproblem.php?pid=3830">HDU 3830 Checkers</a></p>
</blockquote>
<h3 id="é¢˜æ„ç»™å®š3ä¸ªç‚¹abcæ¯æ¬¡æ“ä½œå¯ä»¥è·³åˆ°ç›¸é‚»ç‚¹çš„å¯¹ç§°ä½ç½®-è¯¢é—®æœ€ç»ˆèƒ½å¦è·³åˆ°xyzä¸è€ƒè™‘é¡ºåº-å¦‚æœèƒ½è¾“å‡ºæœ€å°æ­¥æ•°">é¢˜æ„ï¼šç»™å®š3ä¸ªç‚¹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a,b,c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span></span></span></span>,æ¯æ¬¡æ“ä½œå¯ä»¥è·³åˆ°ç›¸é‚»ç‚¹çš„å¯¹ç§°ä½ç½®ã€‚è¯¢é—®æœ€ç»ˆèƒ½å¦è·³åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>(ä¸è€ƒè™‘é¡ºåº)  å¦‚æœèƒ½ï¼Œè¾“å‡ºæœ€å°æ­¥æ•°.</h3>
<p>æˆ‘ä»¬ä¸å¦¨è®¾ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi><mo>&lt;</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a&lt;b&lt;c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span> , <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>å¯ä»¥è·³åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>a</mi><mo>âˆ’</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">2a-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>c</mi><mo>âˆ’</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">2c-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>,ä¹Ÿå³æ˜¯å¾€ä¸¤è¾¹è·³ã€‚<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>å¯ä»¥å¾€ä¸­é—´è·³ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¦‚æœ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>âˆ’</mo><mi>a</mi><mo>=</mo><mo>=</mo><mi>c</mi><mo>âˆ’</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">b-a==c-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>çš„æ—¶å€™æˆ‘ä»¬å°±ä¸èƒ½å¾€ä¸­é—´è·³äº†ã€‚<br>
æˆ‘ä»¬å¯ä»¥è¿™æ ·æƒ³ï¼ŒæŠŠ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a,b,c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span></span></span></span>è¿™ä¸‰ä¸ªçš„ä½ç½®å½“æˆä¸€ä¸ªçŠ¶æ€ï¼Œè€Œè¿™ä¸ªçŠ¶æ€æ˜¯äºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œaå’Œcå¾€é‡Œè·³ç›¸å½“äºå¾€çˆ¶èŠ‚ç‚¹èµ°ï¼Œå½“<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mo>âˆ’</mo><mi>a</mi><mo>=</mo><mo>=</mo><mi>c</mi><mo>âˆ’</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">b-a==c-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>æ—¶è¯´æ˜èµ°åˆ°äº†æ ¹èŠ‚ç‚¹ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>å¾€å¤–è·³ç›¸å½“å»å¾€å­èŠ‚ç‚¹èµ°ï¼Œå¹¶ä¸”æ— ç©·æ— å°½ã€‚</p>
<p>æˆ‘ä»¬å¼€å§‹è®©<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>ä¸æ–­å¾€é‡Œèµ°ï¼Œå³ä¸æ–­å¾€ä¸Šå¯»æ‰¾çˆ¶èŠ‚ç‚¹ï¼Œç›´è‡³æ‰¾åˆ°æ ¹èŠ‚ç‚¹ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a,b,c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>å…·æœ‰ç›¸åŒæ ¹èŠ‚ç‚¹æ—¶ï¼Œç­”æ¡ˆæœ‰è§£ï¼Œæ­¤æ—¶ç­”æ¡ˆæ ‘ä¸Šä¸¤ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚ä¹Ÿå³æ˜¯å¯ä»¥è½¬åŒ–å¯»æ‰¾LCAã€‚å¾€ä¸Šèµ°çš„æ—¶å€™ä¸èƒ½ä¸€æ­¥ä¸€æ­¥èµ°ï¼Œæ¯”å¦‚ä¸‰ä¸ªæ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>101</mn></mrow><annotation encoding="application/x-tex">1,2,101</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span></span></span></span>ï¼Œæˆ‘ä»¬ä¸èƒ½ä¸€æ­¥æ­¥ç¿»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>101</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">(2,3,101)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>101</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">(3,4,101)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œè¿™æ ·å¤ªæ…¢äº†ï¼Œèƒ½ä¸èƒ½ç›´æ¥ç¿»åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mn>99</mn><mo separator="true">,</mo><mn>100</mn><mo separator="true">,</mo><mn>101</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">(99,100,101)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">9</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<p>é¦–å…ˆè¦æ‰¾åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a,b,c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>èµ°åˆ°æ ¹èŠ‚ç‚¹æ‰€éœ€æ­¥æ•°ï¼Œä¹Ÿå³æ˜¯æ·±åº¦ï¼Œç„¶åå°†å…¶ä¸­æ·±åº¦å¤§çš„å‡å°è‡³å…±åŒæ·±åº¦ã€‚è®¾æ·±åº¦å·®<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">dis</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span></span></span></span>.äºŒåˆ†ç­”æ¡ˆï¼Œå‡è®¾äºŒåˆ†å€¼ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span></span></span></span>,å¦‚æœå®ƒä»¬ä¿©å¾€ä¸Šèµ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span></span></span></span>æ­¥å°±èƒ½å¤„äºå…±åŒåæ ‡ï¼Œé‚£ä¹ˆå¯ä»¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>=</mo><mi>m</mi><mi>i</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">r=mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span></span></span></span>,ç¼©å°ç­”æ¡ˆï¼Œç»§ç»­äºŒåˆ†ã€‚äºŒåˆ†ç»“æŸçš„ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span> å³æ˜¯å®ƒä»¬ä¿©å…¶ä¸­ä¸€ä¸ªèµ°å‘LCAæ‰€éœ€æ­¥æ•°ã€‚æœ€ç»ˆ <strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>âˆ—</mo><mi>l</mi><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">2 * l+dis</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span></span></span></span></strong> å³ä¸ºç­”æ¡ˆã€‚</p>
<p>å¦å¤–é¢˜ç›®æœ‰å¤šç»„è¾“å…¥ï¼Œä¹Ÿæ²¡çœ‹åˆ°é¢˜ç›®æœ‰è¯´ã€‚</p>
<pre><code>#include &lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#include&lt;string&gt;
#include&lt;bitset&gt;
#include&lt;cmath&gt;
using namespace std;
const int N = 1e6 + 100;
typedef long long ll;
struct state{
    ll a, b, c, cnt;//cntè¡¨ç¤ºå½“å‰çŠ¶æ€èµ°åˆ°æ ¹èŠ‚ç‚¹éœ€è¦çš„æ­¥æ•°
    bool operator == (const state &amp;o)const{
        return a == o.a&amp;&amp;b == o.b&amp;&amp;c == o.c;
    }
};
state st, ed;
void Sort(state &amp;cur)
{
    if (cur.a &gt; cur.b)swap(cur.a, cur.b);
    if (cur.a &gt; cur.c) swap(cur.a, cur.c);
    if (cur.b &gt; cur.c) swap(cur.b, cur.c);
}
state getRoot(state cur)
{
    cur.cnt = 0;
    ll d1 = cur.b - cur.a, d2 = cur.c - cur.b;
    while (d1 != d2)
    {
        ll t = 0;
        if (d1 &gt; d2)
        {
            t = (d1 - 1) / d2;
            cur.b -= t*d2;
            cur.c -= t*d2;
        }
        else
        {
            t = (d2 - 1) / d1;
            cur.b += t*d1;
            cur.a += t*d1;
        }
        cur.cnt += t;
        Sort(cur);
        d1 = cur.b - cur.a, d2 = cur.c - cur.b;
    }
    return cur;
}
state solve(state cur, ll dis)
{
    ll d1 = cur.b - cur.a, d2 = cur.c - cur.b;
    while (dis&amp;&amp;d1!=d2)
    {
        ll t = 0;
        if (d1 &gt; d2)
        {
            t = min((d1 - 1) / d2, dis);
            cur.b -= t*d2;
            cur.c -= t*d2;
        }
        else
        {
            t = min((d2 - 1) / d1, dis);
            cur.b += t*d1;
            cur.a += t*d1;
        }
        dis -= t;
        Sort(cur);
        d1 = cur.b - cur.a, d2 = cur.c - cur.b;
    }
    return cur;
}
int main()
{
    while (scanf(&quot;%lld%lld%lld&quot;, &amp;st.a, &amp;st.b, &amp;st.c) != EOF)
    {
        scanf(&quot;%lld%lld%lld&quot;, &amp;ed.a, &amp;ed.b, &amp;ed.c);
        st.cnt = 0, ed.cnt = 0;
        Sort(st);
        Sort(ed);
        state st1 = getRoot(st), ed1 = getRoot(ed);//é¦–å…ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹
        st.cnt = st1.cnt, ed.cnt = ed1.cnt;//æ‰€éœ€æ­¥æ•°
        if (st1 == ed1){
            puts(&quot;YES&quot;);
            ll dis = abs(st.cnt - ed.cnt);
            if (st.cnt &gt; ed.cnt){//æè‡³åŒä¸€æ·±åº¦
                st = solve(st, dis);
            }
            else{
                ed = solve(ed, dis);
            }
            ll l = 0, r = min(st.cnt, ed.cnt);
            while (l &lt; r)
            {
                ll mid = (l + r) &gt;&gt; (1LL);
                state ss = solve(st, mid);
                state ee = solve(ed, mid);
                if (ss == ee) r = mid;
                else l = mid + 1;
            }
            printf(&quot;%lld\n&quot;, 2 * l + dis);
        }
        else{
            puts(&quot;NO&quot;);
        }
    }

    return 0;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[HDU 2460 Network]]></title>
        <id>https://www.akwing.cn/post/hdu-2460-network</id>
        <link href="https://www.akwing.cn/post/hdu-2460-network">
        </link>
        <updated>2019-06-29T08:56:51.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="tarjanlca">Tarjan+LCA</h1>
]]></summary>
        <content type="html"><![CDATA[<h1 id="tarjanlca">Tarjan+LCA</h1>
<!-- more -->
<blockquote>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2460">HDU 2460 Network</a></p>
</blockquote>
<h4 id="é¢˜æ„-ç»™å®šä¸€ä¸ªæ— å‘å›¾ç„¶åç»™å‡ºqä¸ªåŠ è¾¹æ“ä½œè¯¢é—®æ¯æ¬¡åŠ è¾¹åå›¾ä¸­æ¡¥è¾¹çš„ä¸ªæ•°">é¢˜æ„: ç»™å®šä¸€ä¸ªæ— å‘å›¾ï¼Œç„¶åç»™å‡ºqä¸ªåŠ è¾¹æ“ä½œï¼Œè¯¢é—®æ¯æ¬¡åŠ è¾¹åå›¾ä¸­æ¡¥è¾¹çš„ä¸ªæ•°ã€‚</h4>
<p>è¿™é¢˜æ ¹æœ¬ä¸ä¼šæ¬¸ï¼Œå»ç½‘ä¸Šæœé¢˜è§£ï¼Œç”¨åˆ°çš„ç®—æ³•ä¹Ÿæ˜¯ä¸€å¤§å †ï¼Œå¥½å¤šéƒ½æ˜¯æ²¡å­¦è¿‡çš„ã€‚ç„¶åå°±å»çœ‹è“ä¹¦ï¼Œç”¨Tarjanç®—æ³•æ±‚æ¡¥è¾¹ã€‚ä¸‹é¢æ˜¯æ±‚è§£æ¡¥è¾¹çš„ç®—æ³•</p>
<ul>
<li>æ—¶é—´æˆ³: å›¾çš„æ·±åº¦ä¼˜å…ˆéå†ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç¬¬ä¸€æ¬¡è¢«è®¿é—®çš„æ—¶é—´é¡ºåºï¼Œç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>f</mi><mi>n</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">dfn[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>è¡¨ç¤º</li>
<li>æœç´¢æ ‘: å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢æ„æˆäº†ä¸€æ£µæœç´¢æ ‘(ä¸è¿é€šçš„å›¾æ„æˆæœç´¢æ£®æ—)</li>
<li>è¿½æº¯å€¼: Tarjanç®—æ³•å¼•å…¥ä¸€ä¸ªè¿½æº¯å€¼<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mo>[</mo><mi>x</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">low[x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span></span></span></span>ï¼Œè®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">subtree(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">b</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºæœç´¢æ ‘ä¸­ä»¥xä¸ºæ ¹çš„å­æ ‘. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mo>[</mo><mi>x</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">low[x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span></span></span></span>å®šä¹‰å¦‚ä¸‹
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">subtree(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">b</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>  <mark>ä¸­çš„èŠ‚ç‚¹</mark></li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[LCAæ¨¡æ¿]]></title>
        <id>https://www.akwing.cn/post/lca-mo-ban</id>
        <link href="https://www.akwing.cn/post/lca-mo-ban">
        </link>
        <updated>2019-06-29T05:51:04.000Z</updated>
        <content type="html"><![CDATA[<h3 id="tarjan">Tarjan ï¼š</h3>
<p>åªèƒ½ç¦»çº¿å¤„ç†ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n+m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></p>
<pre><code>int get(int x)
{
	if (fa[x] == x) return x;
	return fa[x] = get(fa[x]);
}
void tarjan(int u)
{
	vis[u] = true;
	for (int i = head[u]; i != -1; i = edge[i].next)
	{
		int v = edge[i].to,w=edge[i].w;
		if (vis[v]) continue;
		dis[v] = dis[u] + w;
		tarjan(v);
		fa[v] = u;
	}
	for (int i = head1[u]; i != -1; i = query[i].next)
	{
		int v = query[i].v;
		if (!vis[v]) continue;
		int lca = get(v);//è¿™ä¸ªå³æ˜¯uå’Œvçš„LCA
		ans[query[i].id] = dis[v] + dis[u] - 2*dis[lca];//è¿™æ˜¯ä¸¤ç‚¹é—´çš„æœ€çŸ­è·ç¦»
	}
}
</code></pre>
<h3 id="æ ‘ä¸Šå€å¢">æ ‘ä¸Šå€å¢</h3>
<p>å¯ä»¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(nlog_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> é¢„å¤„ç†ï¼Œç„¶å<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(log_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> æŸ¥è¯¢</p>
<pre><code>void bfs()//é¢„å¤„ç†ï¼Œä¹Ÿå¯ä»¥dfs
{
	//fat[1][0] = 1;
	queue&lt;int&gt; q;
	q.push(1);
	dep[1] = 1;
	while (!q.empty())
	{
		int u = q.front();
		q.pop();
		for (int i = head[u]; i != -1; i = edge[i].next)
		{
			int v = edge[i].to;
			if (dep[v]) continue;
			dep[v] = dep[u] + 1;
			fat[v][0] = u;
			for (int j = 1; j &lt;= up; j++)
			{
				fat[v][j] = fat[fat[v][j - 1]][j - 1];
			}
			q.push(v);
		}
	}
}
int lca(int u, int v)
{
	if (dep[u] &gt; dep[v]) swap(u, v);
	for (int j = up; j &gt;= 0; j--)
	{
		if (dep[fat[v][j]] &gt;= dep[u]) v = fat[v][j];
	}
	if (u == v) return u;
	for (int j = up; j &gt;= 0; j--)
	{
		if (fat[v][j] !=fat[u][j]){
			v = fat[v][j];
			u = fat[u][j];
		}
	}
	return fat[v][0];
}
</code></pre>
<h3 id="lcaè½¬rmq">LCAè½¬RMQ</h3>
<p>é¦–å…ˆå¯¹æ ‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œå¾—åˆ°æ¬§æ‹‰åºä»¥åŠæ¯ä¸ªèŠ‚ç‚¹é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ŒåŒæ—¶ä¿å­˜æ·±åº¦ä¿¡æ¯ã€‚</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mi>s</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">vs[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span> : è¡¨ç¤ºç¬¬<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>æ¬¡è®¿é—®çš„èŠ‚ç‚¹çš„ç¼–å·</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>e</mi><mi>p</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">dep[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>: è¡¨ç¤ºç¬¬<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>æ¬¡è®¿é—®æ—¶çš„æ·±åº¦</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">in[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span> :èŠ‚ç‚¹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>é¦–æ¬¡å‡ºç°åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">vs</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">s</span></span></span></span>æ•°ç»„ä¸­çš„ä½ç½®</li>
</ul>
<p>è¯¢é—®<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">LCA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span></span></span></span>,å…ˆå¾—åˆ°å®ƒä»¬ä¿©é¦–æ¬¡å‡ºç°çš„ä½ç½®åŒºé—´å†…<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>[</mo><mi>i</mi><mi>n</mi><mo>[</mo><mi>u</mi><mo>]</mo><mo separator="true">,</mo><mi>i</mi><mi>n</mi><mo>[</mo><mi>v</mi><mo>]</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">[ in[u],in[v] ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mord mathdefault">u</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span>æ·±åº¦æœ€ä½çš„ä½ç½®ä¸‹æ ‡ï¼Œè®°ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">pos</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mi>s</mi><mo>[</mo><mi>p</mi><mi>o</mi><mi>s</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">vs[pos]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mclose">]</span></span></span></span>å³æ˜¯ä»–ä¿©çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">LCA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span></span></span></span>ã€‚ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">ST</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>è¡¨æ±‚è§£å³å¯ã€‚</p>
<pre><code>void dfs(int u,int d,int fa)
{
	in[u] = ++top;
	vs[top] = u;
	dep[top] = d;
	for (int i = head[u]; i != -1; i = edge[i].next)
	{
		int v = edge[i].to, w = edge[i].w;
		if (v==fa) continue;
		dis[v] = dis[u] + w;
		dfs(v, d + 1,u);
		vs[++top] = u;
		dep[top] = d;
	}
}
void RMQ()
{
	for (int i = 0; i &lt;= top; i++)
		dp[i][0] = i;
	for (int j = 1; j &lt;= up; j++)
	{
		for (int i = 1; (i+(1&lt;&lt;j)-1) &lt;= top; i++)
		{
			int p1 = dp[i][j - 1], p2 = dp[i + (1 &lt;&lt; (j - 1))][j - 1];
			if (dep[p1] &lt;= dep[p2]){
				dp[i][j] = p1;
			}
			else{
				dp[i][j] = p2;
			}
		}
	}
}
int lca(int l,int r)
{
	if (l &gt; r) swap(l, r);
	int k = log2(r - l + 1);
	int p1 = dp[l][k], p2 = dp[r - (1 &lt;&lt; k) + 1][k];
	if (dep[p1] &lt;= dep[p2]) return vs[p1];
	else return vs[p2];
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ ‘çš„ç›´å¾„æ¨¡æ¿]]></title>
        <id>https://www.akwing.cn/post/shu-de-zhi-jing-mo-ban</id>
        <link href="https://www.akwing.cn/post/shu-de-zhi-jing-mo-ban">
        </link>
        <updated>2019-06-29T05:35:48.000Z</updated>
        <content type="html"><![CDATA[<h3 id="æ–¹æ³•ä¸€æ ‘å½¢dp">æ–¹æ³•ä¸€ï¼šæ ‘å½¢DP</h3>
<pre><code>void dp(int u,int pre)
{
	for (int i = head[u]; i != -1; i = edge[i].next)
	{
		int v = edge[i].to, w = edge[i].w;
		if (v == pre) continue;
		dp(v, u);
		ans = max(ans, dis[u] + dis[v] + w);//ä¹‹å‰çš„æœ€å¤§å€¼dis[u],å½“å‰çš„dis[v]+w
		dis[u] = max(dis[u], dis[v] + w);//æ›´æ–°æœ€å¤§è·ç¦»
	}
}
</code></pre>
<h3 id="æ–¹æ³•äºŒä¸¤æ¬¡dfs">æ–¹æ³•äºŒï¼šä¸¤æ¬¡DFS</h3>
<p>ç¬¬ä¸€æ¬¡BFSæ‰¾åˆ°ç›´å¾„çš„ä¸€ç«¯ï¼Œç¬¬äºŒæ¬¡ä»ç›´å¾„çš„ä¸€ç«¯æ‰¾åˆ°ç›´å¾„çš„å¦ä¸€ç«¯ï¼Œæœ€ç»ˆanså³ä¸ºç­”æ¡ˆ</p>
<pre><code>void dfs(int u, int pre)
{
	if (ans &lt; dis[u]){
		ans = dis[u];
		pos = u;
	}
	for (int i = head[u]; i != -1; i = edge[i].next)
	{
		int v = edge[i].to, w = edge[i].w;
		if (v == pre) continue;
		dis[v] = dis[u] + w;
		dfs(v, u);
	}
}
	dfs(1, -1);
	dis[pos] = 0;
	dfs(pos, -1);
</code></pre>
<h3 id="æ–¹æ³•ä¸‰ä¸¤æ¬¡bfs">æ–¹æ³•ä¸‰ï¼šä¸¤æ¬¡BFS</h3>
<pre><code>void bfs(int st)
{
	memset(vis, false, sizeof(vis));
	vis[st] = true;
	queue&lt;int&gt; q;
	dis[st] = 0;
	q.push(st);
	int pre = -1;
	while (!q.empty())
	{
		int u = q.front();
		q.pop();
		for (int i = head[u]; i != -1; i = edge[i].next)
		{
			int v = edge[i].to, w = edge[i].w;
			if (!vis[v])
			{
				vis[v] = true;
				dis[v] = dis[u] + w;
				if (ans &lt; dis[v]){
					ans = dis[v];
					pos = v;
				}
				q.push(v);
			}
		}
	}
}

	dis[pos] = 0;
	bfs(pos);
</code></pre>
]]></content>
    </entry>
</feed>